{"version":3,"sources":["components/Card/index.js","components/CardList/index.js","panels/Home.js","components/Tabbar/index.js","App.js","store/app/app.store.js","store/questions/questions.store.js","store/index.js","index.js"],"names":["Card","props","className","CardQuestion","useSpring","x","scale","set","cardRef","React","createRef","bind","useDrag","down","movement","mx","widthCard","current","offsetWidth","halfWidth","Math","floor","isRight","isLeft","moveTo","cardDirection","cardLeft","div","ref","style","ListQuestions","cardPositionChange","Home","id","HeaderTitle","go","level","weight","color","left","height","heightHeader","document","querySelector","offsetHeight","heightBottomMenu","getHeightForContent","opacity","abs","Icon28Question","width","fill","xmlns","d","BottomMenu","onClick","selected","data-story","text","App","useState","setActivePanel","fetchedUser","setUser","size","setPopout","useEffect","a","bridge","send","user","subscribe","detail","type","data","schemeAttribute","createAttribute","value","scheme","body","attributes","setNamedItem","fetchData","activeStory","tabbar","activePanel","popout","e","currentTarget","dataset","to","appSlice","createSlice","require","name","initialState","isLoading","reducers","appLoaded","state","appLoading","actions","questionsSlice","setQuestions","action","payload","rootReducer","combineReducers","app","appReducer","questions","questionsReducer","configureStore","reducer","devTools","middleware","getDefaultMiddleware","ReactDOM","render","store","getElementById"],"mappings":"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","file":"static/js/main.747f854e.chunk.js","sourcesContent":["import React from 'react';\r\nimport './Card.css';\r\nimport { useSpring, animated } from 'react-spring';\r\nimport { useDrag } from 'react-use-gesture';\r\n\r\nconst Card = (props) => {\r\n\treturn (\r\n\t\t<div className='card-question__inner'>\r\n\t\t\t<div className='card-question__text_top card-question__text'>You can completely remake your body into exactly how you want to look and nothing you do will change it (lack of exercise, bad eating, etc.)</div>\r\n\t\t\t<div className='card-question__text_middle card-question__text'>НО</div>\r\n\t\t\t<div className='card-question__text_bottom card-question__text'>If anyone finds out that you remade yourself all the changes go away</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst CardQuestion = (props) => {\r\n\r\n\tconst cardLeft = (mx) => {\r\n\t\tprops.cardDirection(mx);\r\n\t};\r\n\r\n\tconst [{ x, scale }, set] = useSpring(() => ({ x: 0, scale: 1 }))\r\n\tconst cardRef = React.createRef(null);\r\n\tconst delta = 1.7;\r\n\tconst moveToDelta = 100;\r\n\tconst bind = useDrag(({ down ,movement: [mx, _] }) => {\r\n\t\tconst widthCard = cardRef.current.offsetWidth;\r\n\t\tconst halfWidth = Math.floor(widthCard / 5);\r\n\t\tconst isRight = mx > halfWidth;\r\n\t\tconst isLeft = mx < -halfWidth;\r\n\t\tconst moveTo = mx * delta;\r\n\t\tconst scale = down ? 0.9 : 1;\r\n\r\n\t\tif(isRight) {\r\n\t\t\tset({\r\n\t\t\t\tx: down ? moveTo : widthCard + moveToDelta,\r\n\t\t\t\tscale,\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif(isLeft) {\r\n\t\t\tset({\r\n\t\t\t\tx: down ? moveTo : -widthCard - moveToDelta,\r\n\t\t\t\tscale,\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif(!isRight && !isLeft) {\r\n\t\t\tset({\r\n\t\t\t\tx: down ? moveTo : 0,\r\n\t\t\t\tscale,\r\n\t\t\t});\r\n\t\t\tcardLeft(mx);\r\n\t\t}\r\n\t\t\r\n\t});\r\n\r\n\treturn (\r\n\t\t<animated.div ref={cardRef} className={'card-question'} {...bind()} style={{x,scale}} >\r\n\t\t\t<Card {...props}/>\r\n\t\t</animated.div>\r\n\t)\r\n};\r\n\r\nexport default CardQuestion;","import React from 'react';\r\nimport CardQuestion from '../Card';\r\n\r\nconst ListQuestions = (props) => {\r\n\r\n  const cardDirection = (x) => {\r\n    props.cardPositionChange(x);\r\n  };\r\n\r\n  return (\r\n    <CardQuestion cardDirection={cardDirection}/>\r\n  );\r\n};\r\n\r\nexport default ListQuestions;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport { Div, Title } from '@vkontakte/vkui';\nimport './Home.css';\nimport ListQuestions from '../components/CardList';\n\nconst Home = ({ id, go}) => {\n\n\tconst HeaderTitle = () => {\n\t\treturn (<Div>\n\t\t\t<Title level=\"1\" \n\t\t\t\tweight=\"medium\" \n\t\t\t\tstyle={{ color: '#000' }}>Главная</Title>\n\t\t</Div>);\n\t};\n\n\tconst getHeightForContent = () => {\n\t\tconst heightHeader = document.querySelector('.PanelHeader')?.offsetHeight;\n\t\tconst heightBottomMenu = document.querySelector('.Tabbar ')?.offsetHeight;\n\t\treturn `calc(100vh - ${heightBottomMenu | 0}px - ${heightHeader | 0}px - 24px)`;\n\t};\n\n\tconst ref = React.createRef(null);\n\tconst cardPositionChange = (x) => {\n\t\tref.current.style.opacity = Math.abs(x /200);\n\t};\n\n\treturn (\n\t\t<Panel id={id}>\n\t\t\t<PanelHeader\n\t\t\t\tleft={<HeaderTitle/>}\n\t\t\t/>\n\t\t\t<Div className='content' style={{height: getHeightForContent()}}>\n\t\t\t\t<ListQuestions cardPositionChange={cardPositionChange}/>\n\t\t\t\t<div className=\"blur\" ref={ref}></div>\n\t\t\t</Div>\n\t\t</Panel>\n\t);\n}\n\nHome.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n\tfetchedUser: PropTypes.shape({\n\t\tphoto_200: PropTypes.string,\n\t\tfirst_name: PropTypes.string,\n\t\tlast_name: PropTypes.string,\n\t\tcity: PropTypes.shape({\n\t\t\ttitle: PropTypes.string,\n\t\t}),\n\t}),\n};\n\nexport default Home;\n","import React from 'react';\r\n// Icons for menu\r\nimport Icon28HomeOutline from '@vkontakte/icons/dist/28/home_outline';\r\nimport Icon28FavoriteOutline from '@vkontakte/icons/dist/28/favorite_outline';\r\nimport Icon28SettingsOutline from '@vkontakte/icons/dist/28/settings_outline';\r\n//Vk Components\r\nimport { Tabbar, TabbarItem } from '@vkontakte/vkui';\r\n\r\n\r\nconst Icon28Question = (props) => {\r\n  return (\r\n    <div className={'TabbarItem__icon'}>\r\n      <div className={'Icon Icon--28 Icon--w-28 Icon--h-28'} style={{width: '28px', height: '28px'}}>\r\n        <svg width=\"28\" height=\"28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path d=\"M18.7352 4.80524C17.3285 3.63871 15.4717 3 13.5023 3c-1.9693 0-3.82616.64315-5.23284 1.80524C6.8065 6.01613 6 7.64395 6 9.3871v.33709c0 .19517.1688.35481.37512.35481h2.2507c.20631 0 .37511-.15964.37511-.35481V9.3871c0-1.95605 2.02097-3.54839 4.50137-3.54839 2.4805 0 4.5014 1.59234 4.5014 3.54839 0 1.3794-1.0315 2.6435-2.6305 3.2246-.994.3593-1.838.9891-2.4429 1.8141-.6143.8427-.9331 1.854-.9331 2.8786v.9537c0 .1951.1688.3548.3751.3548h2.2507c.2063 0 .3751-.1597.3751-.3548v-1.0069c.0024-.4306.142-.8505.4004-1.2049.2585-.3545.6239-.6271 1.0485-.7822C19.2135 14.2573 21 11.9508 21 9.3871c.0047-1.74315-.8018-3.37097-2.2648-4.58186zM11.6267 23.2258c0 .4706.1977.9218.5494 1.2546.3517.3327.8288.5196 1.3262.5196.4975 0 .9745-.1869 1.3263-.5196.3517-.3328.5493-.784.5493-1.2546 0-.4705-.1976-.9218-.5493-1.2545-.3518-.3328-.8288-.5197-1.3263-.5197-.4974 0-.9745.1869-1.3262.5197-.3517.3327-.5494.784-.5494 1.2545z\"\r\n            fill={true ? '#99A2AD' : '#2975cc' }/>\r\n        </svg>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst BottomMenu = () => {\r\n  return (\r\n    <Tabbar>\r\n      <TabbarItem\r\n        onClick={() => { }}\r\n        selected={true}\r\n        data-story='home'\r\n        text=\"Главная\">\r\n        <Icon28HomeOutline />\r\n      </TabbarItem>\r\n      <TabbarItem\r\n        onClick={() => { }}\r\n        selected={false}\r\n        data-story='createQuestion'\r\n        text=\"Создать вопрос\">\r\n        <Icon28Question/>\r\n      </TabbarItem>\r\n      <TabbarItem\r\n        onClick={() => { }}\r\n        selected={false}\r\n        data-story='top'\r\n        text=\"Рейтинг\">\r\n        <Icon28FavoriteOutline />\r\n      </TabbarItem>\r\n      <TabbarItem\r\n        onClick={() => { }}\r\n        selected={false}\r\n        data-story='settings'\r\n        text=\"Настройки\">\r\n        <Icon28SettingsOutline />\r\n      </TabbarItem>\r\n    </Tabbar>\r\n  );\r\n}\r\n\r\nexport default BottomMenu;","import React, { useState, useEffect } from 'react';\n\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport bridge from '@vkontakte/vk-bridge';\n\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\nimport { Epic } from '@vkontakte/vkui';\n\nimport Home from './panels/Home';\nimport BottomMenu from './components/Tabbar';\n\nconst App = () => {\n\tconst [activePanel, setActivePanel] = useState('home');\n\tconst [fetchedUser, setUser] = useState(null);\n\tconst [popout, setPopout] = useState(<ScreenSpinner size='large' />);\n\tuseEffect(() => {\n\n\t\t// https://www.npmjs.com/package/react-tinder-card\n\n\t\tbridge.subscribe(({ detail: { type, data }}) => {\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t}\n\t\t});\n\n\t\tasync function fetchData() {\n\t\t\tconst user = await bridge.send('VKWebAppGetUserInfo');\n\t\t\tsetUser(user);\n\t\t\tsetPopout(null);\n\t\t}\n\t\tfetchData();\n\t}, []);\n\n\tconst go = e => {\n\t\tsetActivePanel(e.currentTarget.dataset.to);\n\t};\n\t\n\n\treturn (\n\t\t<Epic activeStory={'home'} tabbar={<BottomMenu/>}>\n\t\t\t<View activePanel='home' id='home' popout={null}>\n\t\t\t\t<Home id='home' fetchedUser={fetchedUser} go={go} />\n\t\t\t\t{/*<Persik id='persik' go={go} /> */}\n\t\t\t</View>\n\t\t</Epic>\n\t);\n}\n\nexport default App;\n\n","const { createSlice } = require(\"@reduxjs/toolkit\");\r\n\r\nconst initialStateApp = {\r\n  isLoading: false,\r\n}\r\n\r\nconst appSlice = createSlice({\r\n  name: \"app\",\r\n  initialState: initialStateApp,\r\n  reducers: {\r\n    appLoaded: state => state.isLoading = false,\r\n    appLoading: state => state.isLoading = true,\r\n  }\r\n})\r\n\r\nexport const {\r\n  appLoaded,\r\n  appLoading\r\n} = appSlice.actions\r\n\r\nexport default appSlice.reducer;","import { getAllQuestions } from \"../../api\";\r\n\r\nconst { createSlice } = require(\"@reduxjs/toolkit\");\r\n\r\nconst initialStateQuestions = [];\r\n\r\nconst questionsSlice = createSlice({\r\n  name: \"questions\",\r\n  initialState: initialStateQuestions,\r\n  reducers: {\r\n    setQuestions: (state, action) => state = action.payload,\r\n  }\r\n})\r\n\r\nexport const {\r\n  setQuestions,\r\n} = questionsSlice.actions\r\n\r\nexport default questionsSlice.reducer;\r\n\r\nexport const fetchQuestions = () => async dispatch => {\r\n  try {\r\n    const res = await getAllQuestions();\r\n    if(res.status === 200) {\r\n      dispatch(\r\n        setQuestions(res.data)\r\n      )\r\n    }\r\n  } catch (err) {\r\n    console.log(err)\r\n  }\r\n}","import {combineReducers, configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\r\n\r\nimport appReducer from \"./app/app.store\";\r\nimport questionsReducer from \"./questions/questions.store\";\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n  app: appReducer,\r\n  questions: questionsReducer,\r\n});\r\n\r\nexport default configureStore({\r\n  reducer: rootReducer,\r\n  devTools: true,\r\n  middleware: [...getDefaultMiddleware()],\r\n});","import \"core-js/features/map\";\nimport \"core-js/features/set\";\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport bridge from \"@vkontakte/vk-bridge\";\n\nimport App from \"./App\";\n\nimport { Provider } from \"react-redux\"\n\nimport store from \"./store\"\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\n\nReactDOM.render\n  (\n    <Provider store={store}>\n      <App />\n    </Provider>,\n    document.getElementById(\"root\")\n  );\n\n\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => { }); //runtime download\n}\n"],"sourceRoot":""}