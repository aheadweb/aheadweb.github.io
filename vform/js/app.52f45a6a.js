(function(t){function e(e){for(var s,r,a=e[0],o=e[1],c=e[2],d=0,v=[];d<a.length;d++)r=a[d],Object.prototype.hasOwnProperty.call(l,r)&&l[r]&&v.push(l[r][0]),l[r]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);u&&u(e);while(v.length)v.shift()();return n.push.apply(n,c||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],s=!0,a=1;a<i.length;a++){var o=i[a];0!==l[o]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=i[0]))}return t}var s={},l={app:0},n=[];function r(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=s,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(i,s,function(e){return t[e]}.bind(null,s));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],o=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var u=o;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"1e29":function(t,e,i){"use strict";var s=i("22ae"),l=i.n(s);l.a},"22ae":function(t,e,i){},3535:function(t,e,i){"use strict";var s=i("8a2c"),l=i.n(s);l.a},"42d0":function(t,e,i){"use strict";var s=i("5d2f"),l=i.n(s);l.a},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("2b0e"),l=i("1dce"),n=i.n(l),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("Form")],1)},a=[],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:1===t.stepActive,expression:"stepActive === 1"}]},[i("FormSectionBaseInfo",{attrs:{title:"Базовая информация"},on:{stepNext:t.stepNext}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:2===t.stepActive,expression:"stepActive === 2"}]},[i("FormSectionAddress",{attrs:{title:"Адресс"},on:{stepNext:t.stepNext,stepPrev:t.stepPrev}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:3===t.stepActive,expression:"stepActive === 3"}]},[i("FormSectionPassport",{attrs:{title:"Паспортные данные"},on:{stepNext:t.stepNext,stepPrev:t.stepPrev}})],1),i("Modal",{attrs:{isOpen:this.isOpen},on:{close:t.closeModal}})],1)},c=[],u=i("5530"),d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form__section"},[i("div",{staticClass:"form__section-title"},[t._v(t._s(t.title))]),t._l(t.fields,(function(e,s){return i("div",{key:s,staticClass:"form__field"},[i("div",{staticClass:"form__field-title",class:e.required?"form__field-title_require":""},[t._v(t._s(e.title))]),i("Input",{attrs:{msg:t.msgErr(s),fieldName:s,error:t.$v.fields[s].val.$error,val:e.val},on:{validate:t.onInput}})],1)})),i("div",{staticClass:"form__field"},[i("div",{staticClass:"form__field-title form__field-title_require"},[t._v(t._s(t.select.peopleGroups.title))]),i("Select",{attrs:{msg:t.msgErrSelect("peopleGroups"),error:t.$v.select.peopleGroups.selected.$error,multi:!0,listData:t.select.peopleGroups.array,placeholder:"Выбирите группу клиента"},on:{onSelect:t.onMultiSelect}})],1),i("div",{staticClass:"form__field"},[i("div",{staticClass:"form__field-title"},[t._v(t._s(t.select.listDoctors.title))]),i("Select",{attrs:{listData:t.select.listDoctors.array,placeholder:"Выбирите лечащего врача"},on:{onSelect:t.onSelect}})],1),i("div",{staticClass:"form__field"},[i("div",{staticClass:"form__field-title"},[t._v(t._s(t.checkboxes.sms.title))]),i("Checkbox",{attrs:{val:t.checkboxes.sms.val,fieldName:"sms"},on:{change:t.onCheckBoxChange}})],1),i("Button",{attrs:{title:"Далее"},on:{click:t.stepNext}})],2)},v=[],f=(i("d3b7"),i("3ca3"),i("2ca0"),i("ddb0"),i("3835")),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"option"},[t.error?i("div",{staticClass:"option__status"},[t._v(t._s(t.msg))]):t._e(),i("input",{staticClass:"option__input",class:t.className,attrs:{type:"text",msg:"default"},domProps:{value:t.val},on:{blur:t.onInput}})])},h=[],m={name:"Input",props:{val:{type:String},error:{type:Boolean,default:!1},msg:{type:String},fieldName:{type:String}},data:function(){return{}},computed:{className:function(){return{option__input_error:this.error}}},methods:{onInput:function(t){var e=t.target.value;this.$emit("validate",[e,this.fieldName])}}},_=m,b=(i("3535"),i("2877")),$=Object(b["a"])(_,p,h,!1,null,null,null),g=$.exports,x=i("b5ae"),y="Поле обязательное для заполнения",S=function(t){return"Длина поля, должна быть равна ".concat(t," символом")},C="Формат даты: DD.MM.YYYY.",q="Поле должно содержать только цифры",O="Номер дожен начинатся с 7 без +",I=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"option"},[t.error?i("div",{staticClass:"option__status"},[t._v(t._s(t.msg))]):t._e(),i("input",{attrs:{type:"checkbox"},domProps:{checked:t.val},on:{change:t.onChange}})])},N=[],k={name:"Checkbox",props:{msg:{type:String,default:""},error:{type:Boolean,default:!1},val:{type:Boolean,default:!1},fieldName:{type:String}},methods:{onChange:function(t){var e=t.target.checked;this.$emit("change",[e,this.fieldName])}}},j=k,B=Object(b["a"])(j,I,N,!1,null,null,null),A=B.exports,D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"option"},[t.error?i("div",{staticClass:"option__status"},[t._v(t._s(t.msg))]):t._e(),i("div",{staticClass:"option-select",class:t.className},[i("div",{staticClass:"option-select__title",on:{click:t.toggleMenu}},[i("span",{staticClass:"option-select__title-text"},[t._v(t._s(t.title))])]),t.listOpen?i("div",{staticClass:"option-select__list",on:{click:t.onListClick}},t._l(t.listData,(function(e){return i("div",{key:e.value,staticClass:"option-select__item",class:e.active?"option-select__item_active":"",attrs:{"data-value":e.value}},[t._v(t._s(e.title)+" ")])})),0):t._e()])])},P=[],w=(i("99af"),i("4de4"),i("c740"),i("a15b"),i("fb6a"),i("ac1f"),i("1276"),i("2909")),M={name:"Select",props:{placeholder:{type:String,default:"Выбрать знаечние"},multi:{type:Boolean,default:!1},listData:{type:Array,default:function(){return[]}},error:{type:Boolean,default:!1},msg:{type:String,default:""}},data:function(){return{valueChanged:!1,selectValueText:"",selectValue:null,listOpen:!1,valueList:[]}},computed:{title:function(){return this.valueChanged?this.selectValueText:this.placeholder},className:function(){return{"option-select_open":this.listOpen,"option-select_error":this.error}}},methods:{toggleMenu:function(){this.listOpen=!this.listOpen,this.multi&&this.$emit("onSelect",this.valueList)},onListClick:function(t){var e=t.target,i=e.dataset.value,s=e.textContent;this.valueChanged=!0;var l={value:i,text:s};this.multi?this.multiSelectNext(l):this.lonelySelectNext(l)},multiSelectNext:function(t){var e=t.value,i=t.text;if(this.isAlreadyActiveItem(e))return this.deleteActiveItem(e),void(this.selectValueText=this.selectValueText.split(",").filter((function(t){return t!==i})).join(","));this.valueList.push(e),this.selectValueText=this.selectValueText.concat("".concat(i,",")),this.setActiveItem(e),this.$emit("onSelect",this.valueList)},lonelySelectNext:function(t){var e=t.value,i=t.text;this.deleteActiveItem(e),this.setActiveItem(e),this.selectValue=e,this.selectValueText=i,this.listOpen=!1,this.$emit("onSelect",e)},findIndexItemByValue:function(t){return this.listData.findIndex((function(e){return e.value===t}))},setActiveItem:function(t){var e=this.findIndexItemByValue(t);this.listData[e].active=!0},deleteActiveItem:function(t){var e=this.findIndexItemByValue(t);if(-1!==e){if(this.multi){this.listData[e].active=!1;var i=this.valueList.findIndex((function(e){return e===t}));return this.valueList=[].concat(Object(w["a"])(this.valueList.slice(0,i)),Object(w["a"])(this.valueList.slice(i,-1))),0===this.valueList.length&&(this.valueChanged=!1),void this.$emit("onSelect",this.valueList)}var s=this.listData.findIndex((function(t){return!0===t.active}));-1!==s&&(this.listData[s].active=!1)}},isAlreadyActiveItem:function(t){return!0===this.listData[this.findIndexItemByValue(t)].active}}},E=M,L=(i("d4f6"),Object(b["a"])(E,D,P,!1,null,null,null)),T=L.exports;function V(){return new Promise((function(t){setTimeout((function(){t([{title:"Иванов",value:"1"},{title:"Захаров",value:"2"},{title:"Чернышева",value:"3"}])}),1e3)}))}function F(){return new Promise((function(t){setTimeout((function(){t([{title:"VIP",value:"1"},{title:"Проблемные",value:"2"},{title:"ОМС",value:"3"}])}),1e3)}))}function G(){return new Promise((function(t){setTimeout((function(){t([{title:"Паспорт",value:"1"},{title:"Свидетельство о рождении",value:"2"},{title:"Вод. удостоверение",value:"3"}])}),1e3)}))}var W=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"btn",class:t.className,attrs:{type:"button"},on:{click:t.buttonClick}},[i("span",[t._v(t._s(t.title))])])},Y=[],J={name:"Button",props:{title:{type:String,default:"Press"},disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1}},computed:{className:function(){return{btn_disabled:this.disabled,btn_error:this.error}}},methods:{buttonClick:function(){this.$emit("click")}}},K=J,z=(i("42d0"),Object(b["a"])(K,W,Y,!1,null,null,null)),H=z.exports,Q={name:"FormSectionBaseInfo",components:{Select:T,Checkbox:A,Input:g,Button:H},props:{title:{default:""}},created:function(){var t=this;Promise.all([V(),F()]).then((function(e){t.setListDoctors(e[0]),t.setPeopleGroup(e[1])})).catch((function(t){return console.error(t)}))},data:function(){return{fields:{lastName:{val:"",title:"Фамилия",required:!0},name:{val:"",title:"Имя",required:!0},patronymic:{val:"",title:"Отчество",required:!1},birthday:{val:"",title:"Дата рождения",required:!0},phone:{val:"",title:"Номер телефона",required:!0},gender:{val:"",title:"Пол",required:!1}},checkboxes:{sms:{val:!1,title:"Не отправлять СМС."}},select:{listDoctors:{title:"Лечащий врач",array:[],selected:null},peopleGroups:{title:"Группа клиентов",array:[],selected:[]}}}},validations:{fields:{lastName:{val:{required:x["required"]}},name:{val:{required:x["required"]}},patronymic:{val:{}},birthday:{val:{required:x["required"],rightBirthDay:x["helpers"].regex("rightBirthDay",/(0[1-9]|[12][0-9]|3[01])[- /.](0[1-9]|1[012])[- /.](19|20)\d\d/)}},phone:{val:{required:x["required"],equalLength:function(t){return 11===t.length},startWithSeven:function(t){return t.startsWith("7")},numeric:x["numeric"]}},gender:{val:{}}},checkboxes:{sms:{val:{}}},select:{peopleGroups:{selected:{required:x["required"]}}}},computed:{msgErr:function(){var t=this;return function(e){return void 0===t.$v.fields[e].val.required||t.$v.fields[e].val.required?void 0===t.$v.fields[e].val.equalLength||t.$v.fields[e].val.equalLength?void 0===t.$v.fields[e].val.startWithSeven||t.$v.fields[e].val.startWithSeven?void 0===t.$v.fields[e].val.rightBirthDay||t.$v.fields[e].val.rightBirthDay?void 0===t.$v.fields[e].val.numeric||t.$v.fields[e].val.numeric?"Ошибка заполнения поля":q:C:O:S(11):y}},msgErrSelect:function(){var t=this;return function(e){return t.$v.select[e].selected.required?"deafult":y}}},methods:{onInput:function(t){var e=Object(f["a"])(t,2),i=e[0],s=e[1];this.fields[s].val=i,this.$v.fields[s].val.$touch()},onCheckBoxChange:function(t){var e=Object(f["a"])(t,2),i=e[0],s=e[1];this.checkboxes[s].val=i,this.$v.checkboxes[s].val.$touch()},setListDoctors:function(t){this.select.listDoctors.array=t},setPeopleGroup:function(t){this.select.peopleGroups.array=t},onSelect:function(t){this.select.listDoctors.selected=t},onMultiSelect:function(t){this.select.peopleGroups.selected=t,this.$v.select.peopleGroups.selected.$touch()},stepNext:function(){this.$v.$touch(),this.$v.$invalid||this.$emit("stepNext",{baseInfo:Object(u["a"])(Object(u["a"])(Object(u["a"])({},this.fields),this.checkboxes),this.select)})}}},R=Q,U=Object(b["a"])(R,d,v,!1,null,null,null),X=U.exports,Z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form__section"},[i("div",{staticClass:"form__section-title"},[t._v(t._s(t.title))]),t._l(t.fields,(function(e,s){return i("div",{key:s,staticClass:"form__field"},[i("div",{staticClass:"form__field-title",class:e.required?"form__field-title_require":""},[t._v(t._s(e.title))]),i("Input",{attrs:{msg:t.msgErr(s),fieldName:s,error:void 0!==t.$v.fields[s]&&t.$v.fields[s].val.$error,val:e.val},on:{validate:t.onInput}})],1)})),i("Button",{attrs:{title:"Назад"},on:{click:function(e){return t.$emit("stepPrev")}}}),i("Button",{attrs:{title:"Далее"},on:{click:t.stepNext}})],2)},tt=[],et={name:"FormSectionAddress",components:{Input:g,Button:H},props:{title:{default:""}},created:function(){},data:function(){return{fields:{postIndex:{val:"",title:"Индекс",required:!1},country:{val:"",title:"Страна",required:!1},region:{val:"",title:"Регион",required:!1},city:{val:"",title:"Город",required:!0},street:{val:"",title:"Улица",required:!1},house:{val:"",title:"Дом",required:!1}}}},validations:{fields:{city:{val:{required:x["required"]}}}},computed:{msgErr:function(){var t=this;return function(e){if(void 0!==t.$v.fields[e])return void 0===t.$v.fields[e].val.required||t.$v.fields[e].val.required?"Ошибка заполнения поля":y}}},methods:{onInput:function(t){var e=Object(f["a"])(t,2),i=e[0],s=e[1];this.fields[s].val=i,void 0!==this.$v.fields[s]&&this.$v.fields[s].val.$touch()},stepNext:function(){this.$v.$touch(),this.$v.$invalid||this.$emit("stepNext",{adressInfo:Object(u["a"])({},this.fields)})}}},it=et,st=Object(b["a"])(it,Z,tt,!1,null,null,null),lt=st.exports,nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form__section"},[i("div",{staticClass:"form__section-title"},[t._v(t._s(t.title))]),i("div",{staticClass:"form__field"},[i("div",{staticClass:"form__field-title form__field-title_require"},[t._v(t._s(t.select.passportSelect.title))]),i("Select",{attrs:{listData:t.select.passportSelect.array,error:this.$v.select.passportSelect.selected.$error,msg:t.selectMsg,placeholder:"Тип предоставляемого документа"},on:{onSelect:t.onSelect}})],1),t._l(t.fields,(function(e,s){return i("div",{key:s,staticClass:"form__field"},[i("div",{staticClass:"form__field-title",class:e.required?"form__field-title_require":""},[t._v(t._s(e.title))]),i("Input",{attrs:{msg:t.msgErr(s),fieldName:s,error:void 0!==t.$v.fields[s]&&t.$v.fields[s].val.$error,val:e.val},on:{validate:t.onInput}})],1)})),i("Button",{attrs:{title:"Назад"},on:{click:function(e){return t.$emit("stepPrev")}}}),i("Button",{attrs:{title:"Далее"},on:{click:t.stepNext}})],2)},rt=[],at={name:"FormSectionPassport",components:{Input:g,Button:H,Select:T},props:{title:{default:""}},created:function(){var t=this;G().then((function(e){return t.setPassportSelect(e)})).catch((function(t){return console.log(t)}))},data:function(){return{fields:{serial:{val:"",title:"Серия",required:!1},number:{val:"",title:"Номер",required:!1},WhoTake:{val:"",title:"Кем выдан",required:!1},dateTake:{val:"",title:"Дата выдачи",required:!0}},select:{passportSelect:{title:"Тип документа",array:[],selected:null}}}},validations:{fields:{dateTake:{val:{required:x["required"],rightBirthDay:x["helpers"].regex("rightBirthDay",/(0[1-9]|[12][0-9]|3[01])[- /.](0[1-9]|1[012])[- /.](19|20)\d\d/)}}},select:{passportSelect:{selected:{required:x["required"]}}}},computed:{msgErr:function(){var t=this;return function(e){if(void 0!==t.$v.fields[e])return void 0===t.$v.fields[e].val.required||t.$v.fields[e].val.required?"Ошибка заполнения поля":y}},selectMsg:function(){return this.$v.select.passportSelect.selected.required?y:"Ошибка заполнения поля"}},methods:{onInput:function(t){var e=Object(f["a"])(t,2),i=e[0],s=e[1];this.fields[s].val=i,void 0!==this.$v.fields[s]&&this.$v.fields[s].val.$touch()},stepNext:function(){this.$v.$touch(),this.$v.$invalid||this.$emit("stepNext",{passportInfo:Object(u["a"])(Object(u["a"])({},this.fields),this.select)})},setPassportSelect:function(t){this.select.passportSelect.array=t},onSelect:function(t){this.select.passportSelect.selected=t,this.$v.select.passportSelect.selected.$touch()}}},ot=at,ct=Object(b["a"])(ot,nt,rt,!1,null,null,null),ut=ct.exports,dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"overlay",class:t.className},[i("div",{staticClass:"modal"},[i("div",{staticClass:"modal__title"},[t._v("Новый пользователь успешно создан!")]),i("div",{staticClass:"modal__content"},[i("Button",{attrs:{title:"OK"},on:{click:t.closeModal}})],1)])])},vt=[],ft={name:"Modal",components:{Button:H},props:{isOpen:{type:Boolean,default:!1}},computed:{className:function(){return{overlay_open:this.isOpen}}},methods:{closeModal:function(){this.$emit("close")}}},pt=ft,ht=(i("8781"),Object(b["a"])(pt,dt,vt,!1,null,null,null)),mt=ht.exports,_t={name:"Form",components:{FormSectionBaseInfo:X,FormSectionAddress:lt,FormSectionPassport:ut,Modal:mt},data:function(){return{stepActive:1,steps:3,formData:{},isOpen:!1}},methods:{stepNext:function(t){this.stepActive<=this.steps&&(this.formData=Object(u["a"])(Object(u["a"])({},this.formData),t),this.stepActive=this.stepActive+=1),this.stepActive>this.steps&&(this.onSubmit(),this.stepActive=1)},stepPrev:function(){this.stepActive>=0&&(this.stepActive=this.stepActive-=1)},onSubmit:function(){this.isOpen=!0},closeModal:function(){this.isOpen=!1}}},bt=_t,$t=(i("1e29"),Object(b["a"])(bt,o,c,!1,null,null,null)),gt=$t.exports,xt={name:"App",components:{Form:gt}},yt=xt,St=(i("5c0b"),Object(b["a"])(yt,r,a,!1,null,null,null)),Ct=St.exports;s["a"].use(n.a),s["a"].config.productionTip=!1,s["a"].config.devtools=!0,new s["a"]({render:function(t){return t(Ct)}}).$mount("#app")},"5c0b":function(t,e,i){"use strict";var s=i("9c0c"),l=i.n(s);l.a},"5d2f":function(t,e,i){},"6b1e":function(t,e,i){},8781:function(t,e,i){"use strict";var s=i("6b1e"),l=i.n(s);l.a},"87cd":function(t,e,i){},"8a2c":function(t,e,i){},"9c0c":function(t,e,i){},d4f6:function(t,e,i){"use strict";var s=i("87cd"),l=i.n(s);l.a}});
//# sourceMappingURL=app.52f45a6a.js.map